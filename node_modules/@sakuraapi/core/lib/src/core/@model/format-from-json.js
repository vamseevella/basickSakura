"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatFromJsonSymbols = {
    functionMap: Symbol('functionMap')
};
function FormatFromJson(context = 'default') {
    return (target, key, value) => {
        const f = function (...args) {
            return value.value.apply(this, args);
        };
        const meta = getMetaDataMap(target, exports.formatFromJsonSymbols.functionMap);
        let formatters = meta.get(context);
        if (!formatters) {
            formatters = [];
            meta.set(context, formatters);
        }
        formatters.push(f);
        return {
            value: f
        };
    };
    function getMetaDataMap(source, symbol) {
        let map = Reflect.getMetadata(symbol, source);
        if (!map) {
            map = new Map();
            Reflect.defineMetadata(symbol, map, source);
        }
        return map;
    }
}
exports.FormatFromJson = FormatFromJson;
//# sourceMappingURL=format-from-json.js.map